(this.webpackJsonpawok=this.webpackJsonpawok||[]).push([[4],{299:function(e,t,n){"use strict";n.r(t);var a=n(80),r=n(55),o=n(12),c=n(7),u=n(0),i=n.n(u),l=n(162),s=n(301),m=n(115),f=n(302),b=n(303),p=n(150),v=n(20),d=n.n(v),g=n(300),h=n(8),O=n(15),j=n(17),C=n(202),y=n(5);function E(){var e=Object(c.a)(["\n  display: inline !important;\n"]);return E=function(){return e},e}function x(){var e=Object(c.a)(["\n  position: inherit !important;\n  margin-right: auto;\n  margin-left: 2rem;\n"]);return x=function(){return e},e}function k(){var e=Object(c.a)(["\n  align-self: flex-end;\n  margin: 0rem 2rem 1rem 1rem !important;\n  width: 8rem;\n  background-color: #288bea !important;\n  color: #ffffff !important;\n"]);return k=function(){return e},e}function S(){var e=Object(c.a)(["\n  display: flex;\n  justify-content: center;\n\n  canvas {\n    max-height: 40rem !important;\n    max-width: 40rem !important;\n  }\n"]);return S=function(){return e},e}function w(){var e=Object(c.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: flex-start;\n"]);return w=function(){return e},e}function D(){var e=Object(c.a)(["\n  color: #1380e2 !important;\n"]);return D=function(){return e},e}function R(){var e=Object(c.a)(["\n  width: 45% !important;\n  margin-right: 1rem !important;\n"]);return R=function(){return e},e}function H(){var e=Object(c.a)(["\n  margin-bottom: 1rem !important;\n"]);return H=function(){return e},e}function I(){var e=Object(c.a)(["\n  margin: 3rem 2rem 0rem 2rem;\n"]);return I=function(){return e},e}function M(){var e=Object(c.a)(["\n  display: flex;\n  flex: 1 0;\n  flex-direction: column;\n  justify-content: space-between;\n"]);return M=function(){return e},e}var P=h.a.div(M()),W=h.a.div(I()),T=Object(h.a)(l.a)(H()),L=Object(h.a)(l.a)(R()),N=Object(h.a)(s.a)(D()),Y=h.a.div(w()),z=h.a.div(S()),J=Object(h.a)(m.a)(k()),A=Object(h.a)(f.a)(x()),F=Object(h.a)(b.a)(E()),_=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],B=function(e){return d()(new Date(e),"HH:mm").format("h a").split(" ")},K=function(e,t){var n=function(e,t){return d()("".concat(e," ").concat(t),"h a").format("HH:mm")}(e,t),a=d()(new Date).format("L"),r=d()("".concat(a," ").concat(n),"MM/DD/YYYY HH:mm").format();return d()(r).toDate().toISOString()};t.default=Object(O.f)((function(e){var t=Object(u.useState)({companyName:"",occupancyRule:"",currentRules:"",successMessage:"",reservationClearOut:"12"}),n=Object(o.a)(t,2),c=n[0],l=n[1],s=Object(u.useState)([{reservationsExpired:0,reservationsCheckedIn:0,day:"2020-06-12"}]),m=Object(o.a)(s,2),f=m[0],b=m[1],v=Object(u.useState)("am"),d=Object(o.a)(v,2),h=d[0],O=d[1],E=Object(u.useState)(!1),x=Object(o.a)(E,2),k=x[0],S=x[1],w=JSON.parse(localStorage.getItem(y.b.CHECK_IN_HISTORY)).slice(0,7).reverse(),D=Object(u.useState)(!1),R=Object(o.a)(D,2),H=R[0],I=R[1],M=w.map((function(e){return e.positiveCount+e.negativeCount})),q=Object(u.useState)(!0),G=Object(o.a)(q,2),Q=G[0],U=G[1],V={labels:w.map((function(e){return"".concat(_[new Date(e.Date).getDay()]," ").concat(new Date(e.Date).getMonth(),"/").concat(new Date(e.Date).getDate())})),datasets:[{label:"Regular Check ins",fill:!1,lineTension:.5,backgroundColor:"#288bea",borderColor:"#288bea",borderWidth:3,data:M},{label:"Fulfilled Reservations",fill:!1,lineTension:.5,backgroundColor:"#53928b",borderColor:"#53928b",borderWidth:3,data:f.map((function(e){return e.reservationsCheckedIn}))},{label:"Expired Reservations",fill:!1,lineTension:.5,backgroundColor:"#bb251a",borderColor:"#bb251a",borderWidth:3,data:f.map((function(e){return e.reservationsExpired}))}]};Object(u.useEffect)((function(){Object(j.d)().then((function(e){return e.json()})).then((function(e){l(Object(r.a)({},e,{reservationClearOut:B(e.reservationClearOut)[0]})),O(B(e.reservationClearOut)[1])})).catch((function(e){console.log(e)})),Object(j.a)().then((function(e){return e.json()})).then((function(e){b(e.reservationHistory.reverse())})).catch((function(e){console.log(e)}))}),[]);var X=function(e){l(Object(r.a)({},c,Object(a.a)({},e.target.getAttribute("name"),e.target.value)))};return i.a.createElement(P,null,i.a.createElement(W,null,i.a.createElement("form",null,i.a.createElement(T,{InputLabelProps:{shrink:!0},fullWidth:!0,type:"text",placeholder:"e.g. Headstorm",name:"companyName",value:c.companyName,onChange:function(e){return X(e)},label:"Company Name"}),i.a.createElement(T,{InputLabelProps:{shrink:!0},type:"number",name:"occupancyRule",placeholder:"e.g. 25",onChange:function(e){return X(e)},value:c.occupancyRule,fullWidth:!0,label:"Occupancy Rule"}),i.a.createElement(T,{InputLabelProps:{shrink:!0},type:"text",name:"currentRules",placeholder:"e.g. Rule 1, Rule 2, ...",onChange:function(e){return X(e)},value:c.currentRules,fullWidth:!0,label:"Current Rules"}),i.a.createElement(T,{InputLabelProps:{shrink:!0},type:"text",fullWidth:!0,placeholder:"e.g. Have a good day!",onChange:function(e){return X(e)},name:"successMessage",value:c.successMessage,label:"Success Message"}),i.a.createElement(L,{type:"number",name:"reservationClearOut",label:"Reservation Reset",onChange:function(e){return X(e)},onBlur:function(e){return function(e){S(e.target.value<=1||e.target.value>=12)}(e)},error:k,helperText:k?"must be 1-12":"",value:c.reservationClearOut,InputProps:{inputProps:{min:0,max:12}},InputLabelProps:{shrink:!0}}),i.a.createElement(F,{name:"amPm",row:!0,value:h,onChange:function(e){return function(e){O(e.target.value)}(e)}},i.a.createElement(p.a,{value:"am",control:i.a.createElement(N,null),label:"AM"}),i.a.createElement(p.a,{value:"pm",control:i.a.createElement(N,null),label:"PM"})))),i.a.createElement(z,null,i.a.createElement(C.a,{data:V,options:{title:{display:!0,text:"Metrics for Past Seven Days",fontSize:20},legend:{display:!0,position:"right"}}})),i.a.createElement(Y,null,i.a.createElement(A,{autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"left"},open:H,onClose:function(e,t){"clickaway"!==t&&I(!1)}},Q?i.a.createElement(g.a,{severity:"success"},"Saved"):i.a.createElement(g.a,{severity:"error"},"Error saving")),i.a.createElement(J,{size:"large",variant:"contained",onClick:function(){return Object(j.g)(Object(r.a)({},c,{reservationClearOut:new Date(K(c.reservationClearOut,h))})).catch((function(e){console.log(e),U(!1)})),void I(!0)}},"Save")))}))}}]);
//# sourceMappingURL=4.420260e0.chunk.js.map